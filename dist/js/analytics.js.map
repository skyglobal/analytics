{
  "version": 3,
  "file": "analytics.js",
  "sources": [
    "utils/polyfill.js",
    "utils/logger.js",
    "core/config.js",
    "core/omniture.js",
    "plugins/media-module.js",
    "plugins/test-and-target.js",
    "plugins/channel-manager.js",
    "plugins/new-or-repeat-visits.js",
    "plugins/user-history.js",
    "core/page-view.js",
    "core/link-clicks.js",
    "analytics.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA,ADsBA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA,ADqEA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA,AD0GA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvQA,ADwQA;ACvQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA,ADgFA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA,ADoCA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxNA,ADyNA;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA,ADuDA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA,AD6FA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9NA,AD+NA;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvHA,ADwHA;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "sourcesContent": [
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.polyfill = (function(){\n\n    if(typeof String.prototype.trim !== 'function') {\n        String.prototype.trim = function() {\n            return this.replace(/^\\s+|\\s+$/g, '');\n        };\n    }\n\n    return {\n        trim: true\n    }\n\n}());\n\n\n//just for require\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"utils/polyfill\", [],function() {\n        return analytics.polyfill;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.logger = (function(){\n\n    var vars = {\n        verifying: false,\n        verifyOutputId: 'toolkit-tracking-verify'\n    };\n\n\n    function debug(on){\n        if (on || on === undefined){\n            vars.verifying = true;\n            $('body').append('<div id=\"' + vars.verifyOutputId + '\"></div>');\n        } else {\n            vars.verifying = false;\n            $('#' + vars.verifyOutputId).remove();\n        }\n    }\n\n    function logPageView(tracked){\n        log('start','pageView event triggered');\n        log('','omniture', tracked);\n        log('end');\n    }\n\n    function logLinkDetails(info){\n        if (vars.verifying){\n            console.groupCollapsed('linkDetails');\n            console.log('module: ', info[0]);\n            console.log('pod: ', info[1]);\n            console.log('other: ', info[2]);\n            console.log('context: ', info[3]);\n            console.log('theme: ', info[4]);\n            console.log('textClicked: ', info[5]);\n            console.log('pageName: ', info[6]);\n            console.groupEnd();\n        }\n    }\n\n    function log(type, prop, val){\n        if (!vars.verifying){ return; }\n        if (type=='start'){\n            if (val && val.preventDefault) { val.preventDefault(); }\n            console.group(prop);\n            $('#' + vars.verifyOutputId).html('');\n        } else if (type=='end'){\n            console.groupEnd();\n        } else {\n            console.log(prop +': ', val);\n            $('#' + vars.verifyOutputId).append('<div class=\"' + prop + '\">' + prop +': ' + val + '</div>');\n        }\n    }\n\n    return {\n        debug: debug,\n        logPageView: logPageView,\n        logLinkDetails: logLinkDetails,\n        log: log\n    };\n\n}());\n\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"utils/logger\", [],function() {\n        return analytics.log;\n    });\n}\n;",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.config = (function(){\n\n    var trackedData = {\n//            todo: add tnt eVar18 if needed?\n//            todo: add insight_tracking eVar46 if needed?\n//            todo: add campaigns eVar45 if needed?\n//            todo: add more campaigns eVar47 if needed?\n//            todo: add keyword eVar8 if needed?\n//            todo: add partner eVar16 if needed?\n            searchType: ['prop12','eVar31'],\n            searchTerms: ['prop1','eVar1'],\n            searchResults: ['prop34'],\n            headline: ['prop3','eVar13'],\n            errors: ['prop2','eVar2'],\n            url: ['prop9','eVar9'],\n            refDomain: ['prop36','eVar36'],\n            contentType: ['prop20','eVar20'],\n            contentId: ['prop21','eVar15'],\n            siteName: ['prop23','eVar14'],\n            section: ['prop23','eVar14'],\n            browseMethod: ['prop24'],\n            section0: ['prop25','eVar26'],\n            section1: ['prop27','eVar29'],\n            section2: ['prop31','eVar30'],\n            videoTitle: ['prop26','eVar28'],\n            channel: ['eVar24','channel','hier1'],\n            samId: ['prop39','eVar39'],\n            loginStatus: ['eVar11'],\n            ageGender: ['eVar12'],\n            skyPackage: ['eVar16'],\n            optIn: ['eVar38'],\n            linkDetails: ['prop15','eVar7'],\n            newRepeat: [\"prop70\", \"eVar70\"],\n            visitNum: [\"prop69\", \"eVar69\"],\n            visitorID: [\"visitorID\"],\n            pageName: [\"pageName\"],\n            pageDescription: ['eVar19'], //todo: andrew - correct term?\n            partner: ['prop16','eVar3'], //todo: andrew - correct term?\n            fullPageDescription: ['eVar55'], //todo: andrew - correct term?\n            campaignID: ['prop45','eVar45'], //todo: andrew - correct term?\n            campaignCookie: ['eVar47'], //todo: andrew - correct term?\n            insightCampaign: ['eVar46'], //todo: andrew - correct term?\n            externalSearchProvider: ['prop16','eVar3'], //todo: andrew - correct term?\n            externalSearchTerm: ['prop17','eVar8'], //todo: andrew - correct term?\n            testAndTarget: ['eVar18'] //todo: andrew - correct term?\n        },\n        trackedEvents = { //todo: add event1 + event20\n            pageLoad: 'event1',\n            error: 'event3',\n            linkClick: 'event6',\n            firstPageVisited: 'event7',\n            secondPageVisited: 'event8',\n            loginStart: 'event17',\n            loginComplete: 'event16',\n            regComplete: 'event18',\n            regStart: 'event19',\n            repeatVisit: 'event20',\n            optIn: 'event25',\n            searchResults: 'event15',\n            zeroResults: 'event26',\n            passwordStart: 'event76',\n            passwordComplete: 'event77',\n            activateStart: 'event78',\n            activateComplete: 'event79',\n            liveChat: \"event36\"\n        };\n\n\n    return {\n        trackedData: trackedData,\n        trackedEvents: trackedEvents,\n        trackingServer: 'metrics.sky.com',\n        trackingServerSecure: 'smetrics.sky.com',\n        visitorNamespace: 'bskyb',\n        charSet: 'UTF-8',\n        trackDownloadLinks: true,\n        trackExternalLinks: true,\n        trackInlineStats: true,\n        linkDownloadFileTypes: 'exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx,air,wma,dmg',\n        //anyway to make this easier to have all?\n        linkInternalFilters: 'javascript:,skyintranet,sky.com,skysports.co.uk,skyarts.co.uk,skybet.com,skypoker.com,skybingo.com,skyvegas.com,teamtalk.com,football365.com,sportinglife.com,sportal.com,bettingzone.co.uk,fixtures365.com,teamsky.com,oddschecker.com,sport365.com,skysports.com,sky.zoopla.co.uk,skyoneonline.co.uk,bskybpensionplan.com,skymobileiphone.com,skymovies.com,skyone.co.uk,sky1.co.uk,skyoneonline.co.uk,m.skynews.com,skyrainforestrescueschoolschallenge.org,skybroadband.com,skyartsonline.co.uk,skymoviesactive.com,skyhub.bskyb.com,skyone.co.uk,sky.co.uk,skybet.mobi,socceram.com,teamtalk.co.za,football365.co.uk,jointhebiggerpicture.com,skysportsnewsradio.com,file,contact.sky.com,.rainforestrescue.com,.nowtv.com,'+window.location.host,\n        linkLeaveQueryString: false,\n        linkTrackVars: 'None',\n        linkTrackEvents: 'None',\n        browseMethod: 'web',\n        url: window.location.href.toString().split('?')[0],\n        server: window.location.hostname,\n        QScmpId: 'cmpid,aff',\n        QScmpIdInt: 'cmpid_int',\n        useForcedLinkTracking: true,\n        forceLinkTrackingTimeout: 500,\n        setObjectIDs: true,\n        track: true,\n        loadEvents:[],\n        loadVariables:{}\n    };\n\n}());\n\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"core/config\", [],function() {\n        return analytics.config;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.omniture = (function(config, logger){\n//todo: put every reference to s inside this file. once done make s local.\n\n    window.s = {};//todo: make local\n    var mappedVars = {};\n\n    function init(account){\n        s = s_gi(account);\n    }\n\n    function getVariable(prop){\n        return mappedVars[prop]; //todo: try to get from s if it isnt a mapped value. if worth the extra effort.\n    }\n\n    function setVariable(prop, val){\n        if(!val){ return; }\n        var i= 1,map,\n            data = config.trackedData[prop] || [prop];\n        mappedVars[prop] = val;\n        if (data.length==1){\n            s[data[0]] = val;\n        } else {\n            map = 'D=' + data[0].replace('eVar','v').replace('prop','c').replace('channel','ch'); //todo: test channel being first in vars list\n            s[data[0]] = val;\n            for (i; i<data.length; i++){\n                s[data[i]] = map;\n            }\n        }\n        return val;\n    }\n\n    function setLinkTrackVariable(variable){\n        if (!s.linkTrackVars) s.linkTrackVars = '';\n        if (s.linkTrackVars.length>0) s.linkTrackVars += ',';\n        s.linkTrackVars += config.trackedData[variable];\n    }\n    function setLinkTrackEvent(event){ //todo: andrew, needed???\n        if (!s.linkTrackEvents) s.linkTrackEvents = '';\n        if (s.linkTrackEvents.length>0) s.linkTrackEvents += ',';\n        s.linkTrackEvents += config.trackedEvents[event];\n    }\n\n    function setEvent(event){\n        if (!s.events) s.events = '';\n        if (s.events.length>0) s.events += ',';\n        s.events += config.trackedEvents[event];\n    }\n\n    function trackLink(el){\n        s.trackLink(el,'o','Link Click');\n    }\n    function track(){\n        logger.logPageView(s);\n        s.t();\n    }\n\n    function reset(){\n        s.linkTrackVars = '';\n        s.events = '';\n        s.linkTrackEvents = '';\n    }\n\n    /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/\n    var s_code='',\n        s_objectID;\n\n    function s_gi(un,pg,ss){\n        var c=\"s.version='H.26';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\\\"'+s.rep(s.rep(s.rep(m,\\\"\\\\\\\\\\\",\\\"\\\\\\\\\\\\\"\n        +\"\\\\\\\"),\\\"\\\\n\\\",\\\"\\\\\\\\n\\\"),\\\"\\\\\\\"\\\",\\\"\\\\\\\\\\\\\\\"\\\")+'\\\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return \"\n        +\"y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;retur\"\n        +\"n 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\\\"+~!*()'\\\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x)\"\n        +\";for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\\\"%\\\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.subs\"\n        +\"tring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+',\"\n        +\"'%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+\"\n        +\"x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescap\"\n        +\"e(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z\"\n        +\"+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,\"\n        +\"2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f\"\n        +\");return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibi\"\n        +\"litychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\\\"visible\\\"){while(\"\n        +\"s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\\\"'+s.oun+'\\\");s\"\n        +\".sa(\\\"'+s.un+'\\\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\\\"'+s_fe(v)+'\\\";';else c+='s.'+k+'='+v+';'}}c+=\\\"s.lnk=s.eo=s.linkName=s.link\"\n        +\"Type=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\\\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,\"\n        +\"n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.'\"\n        +\",'c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?\"\n        +\"c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60)\"\n        +\";if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');\"\n        +\"return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l\"\n        +\"[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=\"\n        +\"new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.w\"\n        +\"d,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\\\"onerror\\\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;r\"\n        +\"eturn true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.\"\n        +\"tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(\"\n        +\"n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingS\"\n        +\"erverBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLower\"\n        +\"Case();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.versio\"\n        +\"n+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!\"\n        +\"s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\\\"'+un+'\\\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r\"\n        +\";return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\\\"\\\\n\\\\t\\\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[im\"\n        +\"n];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\\\"'+un+'\\\");s.nrs--;if(!s.nrs)s.m_m(\\\"rr\\\")}');if\"\n        +\"(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s_c_il)window.s_c_il['+s\"\n        +\"._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<50\"\n        +\"0)e=new Date}return ''}return '<im'+'g sr'+'c=\\\"'+rs+'\\\" width=1 height=1 border=0 alt=\\\"\\\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){\"\n        +\"if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&\"\n        +\"&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"\n        +\"\\\"/\\\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(\"\n        +\"q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.len\"\n        +\"gth-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\\\"contextData\\\")k=\\\"c\\\";if(v){for(sk \"\n        +\"in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++\"\n        +\")if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=\"\n        +\"(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.con\"\n        +\"textData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else \"\n        +\"if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var \"\n        +\"s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.p\"\n        +\"e){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.\"\n        +\"events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0\"\n        +\")&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substr\"\n        +\"ing(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServe\"\n        +\"r'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()\"\n        +\"=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvid\"\n        +\"er')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c'\"\n        +\";else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType'\"\n        +\")q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],f\"\n        +\"v,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='re\"\n        +\"trieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q\"\n        +\"='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){\"\n        +\"t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLower\"\n        +\"Case():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.w\"\n        +\"d.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0\"\n        +\"&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\\\"onclick\\\");s.lnk=this;s.t();s.lnk=0;\"\n        +\"if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.b\"\n        +\"ct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else \"\n        +\"if(!s.useForcedLinkTracking){s.b.removeEventListener(\\\"click\\\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\\\"click\\\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.\"\n        +\"target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\\\"A\\\"&&a.tagName.toUpperCase()!=\\\"AREA\\\")a=a.parentNode;if(a){h=a\"\n        +\".href;if(h.indexOf(\\\"#\\\")==0||h.indexOf(\\\"about:\\\")==0||h.indexOf(\\\"javascript:\\\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\\\"_self\\\"||t==\\\"_top\\\"||t==\\\"_parent\\\"||(s.wd.name&&t==s.w\"\n        +\"d.name))){tcf=new Function(\\\"s\\\",\\\"var x;try{n=s.d.createEvent(\\\\\\\\\\\"MouseEvents\\\\\\\\\\\")}catch(x){n=new MouseEvent}return n\\\");n=tcf(s);if(n){tcf=new Function(\\\"n\\\",\\\"e\\\",\\\"var x;try{n.initMouseEven\"\n        +\"t(\\\\\\\\\\\"click\\\\\\\\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\\\");n=tcf(n\"\n        +\",e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=\"\n        +\"o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathna\"\n        +\"me.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.sc\"\n        +\"opeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();\"\n        +\"else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('ja\"\n        +\"vascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\\\"\\\\r\\\",''),\\\"\\\\n\\\",''),\\\"\\\\t\\\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.inner\"\n        +\"Text;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.subs\"\n        +\"tring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this\"\n        +\".un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1))\"\n        +\";s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=\"\n        +\"new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s\"\n        +\".sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=\"\n        +\"true,b=s.eh(s.wd,\\\"onload\\\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\\\"\\\"+o.onclick:\\\"\\\";if((oc.indexOf(\\\"s_gs(\\\")<0||oc.indexOf(\\\".s_oc(\\\")>=0)&&oc.ind\"\n        +\"exOf(\\\".tl(\\\")<0)s.eh(o,\\\"onclick\\\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s\"\n        +\".b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListene\"\n        +\"r('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''\"\n        +\"),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>\"\n        +\"=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){\"\n        +\"var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.\"\n        +\"toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=\"\n        +\"un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];i\"\n        +\"f(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r\"\n        +\"','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=\"\n        +\"s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\\\"m_\\\"+n;var s=s_c_il['+s._in+'],c=s[g+\\\"_c\\\"],m,x,f=0;if(s.mpc(\\\"m_a\\\",arguments))return;if(!c)c=s.wd[\\\"s_\"\n        +\"\\\"+g+\\\"_c\\\"];if(c&&s_d)s[g]=new Function(\\\"s\\\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\\\'s_\\\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\\\"m_\\\"+n)){m._i=f=1;if((\\\"\\\"+x).indexOf(\\\"function\\\")>=0)x\"\n        +\"(s);else s.m_m(\\\"x\\\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_\"\n        +\"nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){\"\n        +\"if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o\"\n        +\".l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\\\"m_\\\"+n;m=s.m_i\"\n        +\"(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementBy\"\n        +\"Id(\\\"'+i+'\\\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\\\"'+n+'\\\",\\\"'+g+'\\\"'+(e?',\\\"'+e+'\\\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDel\"\n        +\"ay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\\\"script\\\");if(o){o.type=\\\"text/javascript\\\";'+(n?'o.id\"\n        +\"=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Obj\"\n        +\"ect;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,\"\n        +\"v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\\\"contextData\\\"||k==\\\"retrieveLightData\\\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l\"\n        +\"=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo)\"\n        +\"{if(!s.m_m(\\\"d\\\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(v\"\n        +\"o){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.gfid=function(){var s=this,d='012\"\n        +\"3456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random(\"\n        +\")*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.applyADMS=function(){var s=this,vb=new Object;if(s.wd.ADMS&&!s.vis\"\n        +\"itorID&&!s.admsc){if(!s.adms)s.adms=ADMS.getDefault();if(!s.admsq){s.visitorID=s.adms.getVisitorID(new Function('v','var s=s_c_il['+s._in+'],l=s.admsq,i;if(v==-1)v=0;if(v)s.visitorID=v;s.admsq=0;if\"\n        +\"(l){s.admsc=1;for(i=0;i<l.length;i++)s.t(l[i]);s.admsc=0;}'));if(!s.visitorID)s.admsq=new Array}if(s.admsq){s.vob(vb);vb['!visitorID']=0;s.admsq.push(vb);return 1}else{if(s.visitorID==-1)s.visitorI\"\n        +\"D=0}}return 0};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=\"\n        +\"tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q=''\"\n        +\",qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N\"\n        +\"',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j=\"\n        +\"'1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';i\"\n        +\"f(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=\"\n        +\"s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;i\"\n        +\"f(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\\\"#default#homePage\\\");hp=s.b.isHomePage(tl)?\\\"Y\\\":\\\"N\\\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct\"\n        +\"=0;try{s.b.addBehavior(\\\"#default#clientCaps\\\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps\"\n        +\")<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo\"\n        +\"){s.vob(vb);s.voa(vo)}s.fid=s.gfid();if(s.applyADMS())return '';if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.\"\n        +\"pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.\"\n        +\"eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s\"\n        +\"_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkTyp\"\n        +\"e.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceI\"\n        +\"ndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(\"\n        +\"s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\\\"= \\\\t\\\\r\\\\n\\\").indexOf(oc.cha\"\n        +\"rAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\\\"\\\\\\\\\\\")ocx=!ocx;else ocx\"\n        +\"=0;}else{ocq=oc.charAt(oce);if(ocq!='\\\"'&&ocq!=\\\"'\\\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('o\"\n        +\"bjectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs)\"\n        +\"{s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles\"\n        +\"=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);s.abort=0;s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s\"\n        +\".wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss\"\n        +\",i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[\"\n        +\"i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.m\"\n        +\"l)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];i\"\n        +\"f(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.lo\"\n        +\"cation.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns\"\n        +\"6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer'\"\n        +\");s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=pa\"\n        +\"rseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUp\"\n        +\"perCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationS\"\n        +\"erverSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProf\"\n        +\"iles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSec\"\n        +\"onds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_\"\n        +\"t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDept\"\n        +\"h,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackin\"\n        +\"gServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownlo\"\n        +\"adLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_refer\"\n        +\"rer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1\"\n        +\").t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}\",\n    w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf('MSIE '),m=u.indexOf('Netscape6/'),a,i,j,x,s;if(un){un=un.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=='s_c'||(j>0&&x=='s_l'))&&(s.oun==un||(s.fs&&s.sa&&s.fs(s.oun,un)))){if(s.sa)s.sa(un);if(x=='s_c')return s}else s=0}}w.s_an='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    w.s_sp=new Function(\"x\",\"d\",\"var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst\"\n        +\"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a\");\n    w.s_jn=new Function(\"a\",\"d\",\"var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x\");\n    w.s_rep=new Function(\"x\",\"o\",\"n\",\"return s_jn(s_sp(x,o),n)\");\n    w.s_d=new Function(\"x\",\"var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d\"\n        +\"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(\"\n        +\"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x\");\n    w.s_fe=new Function(\"c\",\"return s_rep(s_rep(s_rep(c,'\\\\\\\\','\\\\\\\\\\\\\\\\'),'\\\"','\\\\\\\\\\\"'),\\\"\\\\n\\\",\\\"\\\\\\\\n\\\")\");\n    w.s_fa=new Function(\"f\",\"var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\\\",\\\"';else if((\\\"\\\\n\\\\r\\\\t \\\").indexOf(c)<0)a+=c;s++}return a?'\\\"'+a+'\\\"':\"\n        +\"a\");\n    w.s_ft=new Function(\"c\",\"c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i\"\n        +\"f(h==q&&!x)q='';if(h=='\\\\\\\\')x=x?0:1;else x=0}else{if(h=='\\\"'||h==\\\"'\\\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\\\"'+s_fe(c.substring(o+1,e))+'\\\")\"\n        +\"'+c.substring(e+1);s=c.indexOf('=function(')}return c;\");\n    c=s_d(c);if(e>0){a=parseInt(i=v.substring(e+5));if(a>3)a=parseFloat(i)}else if(m>0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a<5||v.indexOf('Opera')>=0||u.indexOf('Opera')>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++;}s._c='s_c';(new Function(\"s\",\"un\",\"pg\",\"ss\",c))(s,un,pg,ss);\n        return s\n    }\n    function s_giqf(){\n        var w=window,q=w.s_giq,i,t,s;if(q)for(i=0;i<q.length;i++){t=q[i];s=s_gi(t.oun);s.sa(t.un);s.setTagContainer(t.tagContainerName)}w.s_giq=0;\n    }\n    s_giqf();\n\n\n    return {\n        getVariable: getVariable,\n        setVariable: setVariable,\n        setEvent: setEvent,\n        setLinkTrackVariable: setLinkTrackVariable,\n        setLinkTrackEvent: setLinkTrackEvent,\n        trackLink: trackLink,\n        track: track,\n        init: init,\n        reset: reset\n    };\n\n}(analytics.config, analytics.logger));\n\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"core/omniture\", ['core/config', 'utils/logger'], function(config, logger) {\n        return analytics.omniture;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nif (typeof analytics.plugins==='undefined') analytics.plugins={};\n\nanalytics.plugins.mediaModule = (function(omniture, config){\n//todo: expose chosen functions from within plugins to big bad world i.e. media player start and stop\n\n    var m_Media_c=\"var m=s.m_i('Media');m.cn=function(n){var m=this;return m.s.rep(m.s.rep(m.s.rep(n,\\\"\\\\n\\\",''),\\\"\\\\r\\\",''),'--**--','')};m.open=function(n,l,p,b){var m=this,i=new Object,tm=new Date,a='',\"\n    +\"x;n=m.cn(n);l=parseInt(l);if(!l)l=1;if(n&&p){if(!m.l)m.l=new Object;if(m.l[n])m.close(n);if(b&&b.id)a=b.id;for (x in m.l)if(m.l[x]&&m.l[x].a==a)m.close(m.l[x].n);i.n=n;i.l=l;i.p=m.cn(p);i.a=a;i.t=0\"\n    +\";i.ts=0;i.s=Math.floor(tm.getTime()/1000);i.lx=0;i.lt=i.s;i.lo=0;i.e='';i.to=-1;m.l[n]=i}};m.close=function(n){this.e(n,0,-1)};m.play=function(n,o){var m=this,i;i=m.e(n,1,o);i.m=new Function('var m\"\n    +\"=s_c_il['+m._in+'],i;if(m.l){i=m.l[\\\"'+m.s.rep(i.n,'\\\"','\\\\\\\\\\\"')+'\\\"];if(i){if(i.lx==1)m.e(i.n,3,-1);i.mt=setTimeout(i.m,5000)}}');i.m()};m.stop=function(n,o){this.e(n,2,o)};m.track=function(n){va\"\n    +\"r m=this;if (m.trackWhilePlaying) {m.e(n,4,-1)}};m.e=function(n,x,o){var m=this,i,tm=new Date,ts=Math.floor(tm.getTime()/1000),ti=m.trackSeconds,tp=m.trackMilestones,z=new Array,j,d='--**--',t=1,b,\"\n    +\"v=m.trackVars,e=m.trackEvents,pe='media',pev3,w=new Object,vo=new Object;n=m.cn(n);i=n&&m.l&&m.l[n]?m.l[n]:0;if(i){w.name=n;w.length=i.l;w.playerName=i.p;if(i.to<0)w.event=\\\"OPEN\\\";else w.event=(x=\"\n    +\"=1?\\\"PLAY\\\":(x==2?\\\"STOP\\\":(x==3?\\\"MONITOR\\\":\\\"CLOSE\\\")));w.openTime=new Date();w.openTime.setTime(i.s*1000);if(x>2||(x!=i.lx&&(x!=2||i.lx==1))) {b=\\\"Media.\\\"+name;pev3 = m.s.ape(i.n)+d+i.l+d+m.s.a\"\n    +\"pe(i.p)+d;if(x){if(o<0&&i.lt>0){o=(ts-i.lt)+i.lo;o=o<i.l?o:i.l-1}o=Math.floor(o);if(x>=2&&i.lo<o){i.t+=o-i.lo;i.ts+=o-i.lo;}if(x<=2){i.e+=(x==1?'S':'E')+o;i.lx=x;}else if(i.lx!=1)m.e(n,1,o);i.lt=ts\"\n    +\";i.lo=o;pev3+=i.t+d+i.s+d+(m.trackWhilePlaying&&i.to>=0?'L'+i.to:'')+i.e+(x!=2?(m.trackWhilePlaying?'L':'E')+o:'');if(m.trackWhilePlaying){b=0;pe='m_o';if(x!=4){w.offset=o;w.percent=((w.offset+1)/w\"\n    +\".length)*100;w.percent=w.percent>100?100:Math.floor(w.percent);w.timePlayed=i.t;if(m.monitor)m.monitor(m.s,w)}if(i.to<0)pe='m_s';else if(x==4)pe='m_i';else{t=0;v=e='None';ti=ti?parseInt(ti):0;z=tp?\"\n    +\"m.s.sp(tp,','):0;if(ti&&i.ts>=ti)t=1;else if(z){if(o<i.to)i.to=o;else{for(j=0;j<z.length;j++){ti=z[j]?parseInt(z[j]):0;if(ti&&((i.to+1)/i.l<ti/100)&&((o+1)/i.l>=ti/100)){t=1;j=z.length}}}}}}}else{m\"\n    +\".e(n,2,-1);if(m.trackWhilePlaying){w.offset=i.lo;w.percent=((w.offset+1)/w.length)*100;w.percent=w.percent>100?100:Math.floor(w.percent);w.timePlayed=i.t;if(m.monitor)m.monitor(m.s,w)}m.l[n]=0;if(i\"\n    +\".e){pev3+=i.t+d+i.s+d+(m.trackWhilePlaying&&i.to>=0?'L'+i.to:'')+i.e;if(m.trackWhilePlaying){v=e='None';pe='m_o'}else{t=0;m.s.fbr(b)}}else t=0;b=0}if(t){vo.linkTrackVars=v;vo.linkTrackEvents=e;vo.p\"\n    +\"e=pe;vo.pev3=pev3;m.s.t(vo,b);if(m.trackWhilePlaying){i.ts=0;i.to=o;i.e=''}}}}return i};m.ae=function(n,l,p,x,o,b){if(n&&p){var m=this;if(!m.l||!m.l[n])m.open(n,l,p,b);m.e(n,x,o)}};m.a=function(o,t\"\n    +\"){var m=this,i=o.id?o.id:o.name,n=o.name,p=0,v,c,c1,c2,xc=m.s.h,x,e,f1,f2='s_media_'+m._in+'_oc',f3='s_media_'+m._in+'_t',f4='s_media_'+m._in+'_s',f5='s_media_'+m._in+'_l',f6='s_media_'+m._in+'_m',\"\n    +\"f7='s_media_'+m._in+'_c',tcf,w;if(!i){if(!m.c)m.c=0;i='s_media_'+m._in+'_'+m.c;m.c++}if(!o.id)o.id=i;if(!o.name)o.name=n=i;if(!m.ol)m.ol=new Object;if(m.ol[i])return;m.ol[i]=o;if(!xc)xc=m.s.b;tcf=n\"\n    +\"ew Function('o','var e,p=0;try{if(o.versionInfo&&o.currentMedia&&o.controls)p=1}catch(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetQuickTimeVersion();if(t)p=2}catc\"\n    +\"h(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetVersionInfo();if(t)p=3}catch(e){p=0}return p');p=tcf(o)}}v=\\\"var m=s_c_il[\\\"+m._in+\\\"],o=m.ol['\\\"+i+\\\"']\\\";if(p==1){\"\n    +\"p='Windows Media Player '+o.versionInfo;c1=v+',n,p,l,x=-1,cm,c,mn;if(o){cm=o.currentMedia;c=o.controls;if(cm&&c){mn=cm.name?cm.name:c.URL;l=cm.duration;p=c.currentPosition;n=o.playState;if(n){if(n=\"\n    +\"=8)x=0;if(n==3)x=1;if(n==1||n==2||n==4||n==5||n==6)x=2;}';c2='if(x>=0)m.ae(mn,l,\\\"'+p+'\\\",x,x!=2?p:-1,o)}}';c=c1+c2;if(m.s.isie&&xc){x=m.s.d.createElement('script');x.language='jscript';x.type='tex\"\n    +\"t/javascript';x.htmlFor=i;x.event='PlayStateChange(NewState)';x.defer=true;x.text=c;xc.appendChild(x);o[f6]=new Function(c1+'if(n==3){x=3;'+c2+'}setTimeout(o.'+f6+',5000)');o[f6]()}}if(p==2){p='Qui\"\n    +\"ckTime Player '+(o.GetIsQuickTimeRegistered()?'Pro ':'')+o.GetQuickTimeVersion();f1=f2;c=v+',n,x,t,l,p,p2,mn;if(o){mn=o.GetMovieName()?o.GetMovieName():o.GetURL();n=o.GetRate();t=o.GetTimeScale();l\"\n    +\"=o.GetDuration()/t;p=o.GetTime()/t;p2=o.'+f5+';if(n!=o.'+f4+'||p<p2||p-p2>5){x=2;if(n!=0)x=1;else if(p>=l)x=0;if(p<p2||p-p2>5)m.ae(mn,l,\\\"'+p+'\\\",2,p2,o);m.ae(mn,l,\\\"'+p+'\\\",x,x!=2?p:-1,o)}if(n>0&&\"\n    +\"o.'+f7+'>=10){m.ae(mn,l,\\\"'+p+'\\\",3,p,o);o.'+f7+'=0}o.'+f7+'++;o.'+f4+'=n;o.'+f5+'=p;setTimeout(\\\"'+v+';o.'+f2+'(0,0)\\\",500)}';o[f1]=new Function('a','b',c);o[f4]=-1;o[f7]=0;o[f1](0,0)}if(p==3){p='\"\n    +\"RealPlayer '+o.GetVersionInfo();f1=n+'_OnPlayStateChange';c1=v+',n,x=-1,l,p,mn;if(o){mn=o.GetTitle()?o.GetTitle():o.GetSource();n=o.GetPlayState();l=o.GetLength()/1000;p=o.GetPosition()/1000;if(n!=\"\n    +\"o.'+f4+'){if(n==3)x=1;if(n==0||n==2||n==4||n==5)x=2;if(n==0&&(p>=l||p==0))x=0;if(x>=0)m.ae(mn,l,\\\"'+p+'\\\",x,x!=2?p:-1,o)}if(n==3&&(o.'+f7+'>=10||!o.'+f3+')){m.ae(mn,l,\\\"'+p+'\\\",3,p,o);o.'+f7+'=0}o.\"\n    +\"'+f7+'++;o.'+f4+'=n;';c2='if(o.'+f2+')o.'+f2+'(o,n)}';if(m.s.wd[f1])o[f2]=m.s.wd[f1];m.s.wd[f1]=new Function('a','b',c1+c2);o[f1]=new Function('a','b',c1+'setTimeout(\\\"'+v+';o.'+f1+'(0,0)\\\",o.'+f3+\"\n    +\"'?500:5000);'+c2);o[f4]=-1;if(m.s.isie)o[f3]=1;o[f7]=0;o[f1](0,0)}};m.as=new Function('e','var m=s_c_il['+m._in+'],l,n;if(m.autoTrack&&m.s.d.getElementsByTagName){l=m.s.d.getElementsByTagName(m.s.i\"\n    +\"sie?\\\"OBJECT\\\":\\\"EMBED\\\");if(l)for(n=0;n<l.length;n++)m.a(l[n]);}');if(s.wd.attachEvent)s.wd.attachEvent('onload',m.as);else if(s.wd.addEventListener)s.wd.addEventListener('load',m.as,false)\";\n\n\n\n    function MovieStartManual(m_Name,m_Length,m_Player) {\n        s.Media.open(m_Name,m_Length,m_Player);\n        s.Media.play(m_Name,'0');\n    }\n\n\n    function MovieEndManual(m_Name,m_Pos) {\n        s.Media.stop(m_Name,m_Pos);\n        s.Media.close(m_Name);\n    }\n\n\n    function setVars(){\n        s.Media.autoTrack=false;\n        s.Media.trackWhilePlaying=true;\n        s.Media.trackVars=\"None\";\n        s.Media.trackEvents=\"None\";\n    }\n\n    function load(){\n\n        omniture.setVariable('videoTitle', config.videoTitle);\n\n        s.m_Media_c = m_Media_c;\n        s.m_i(\"Media\");\n        s.loadModule(\"Media\");\n\n        setVars();\n    }\n\n    //todo: dont return MovieEndManual - dont want to have to chain the returns! write an exposePlugin function\n    return {\n        load: load\n    };\n\n}(analytics.omniture, analytics.config));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"plugins/media-module\", ['core/omniture', 'core/config'], function(omniture, config) {\n        return analytics.plugins.mediaModule;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nif (typeof analytics.plugins==='undefined') analytics.plugins={};\n\nanalytics.plugins.testAndTarget = (function(omniture, config){\n\n    var trackTNT = function(v, p, b) {\n        var s=this, n=\"s_tnt\", p=(p)?p:n, v=(v)?v:n, r=\"\",pm=false, b=(b)?b:true;\n        if(s.getQueryParam)\n            pm = s.getQueryParam(p); //grab the parameter\n        if(pm)\n            r += (pm + \",\"); // append the parameter\n        if(s.wd[v] != undefined)\n            r += s.wd[v]; // get the global variable\n        if(b)\n            s.wd[v] = \"\"; // Blank out the global variable for ajax requests\n        return r;\n    };\n\n    function load(){\n        s.trackTNT = trackTNT;\n        var tnt = omniture.setVariable('testAndTarget',s.trackTNT());\n        omniture.setVariable('tnt',tnt);\n        if(typeof mboxLoadSCPlugin == \"function\"){mboxLoadSCPlugin(omniture);}\n    }\n\n    return {\n        load: load\n    };\n\n}(analytics.omniture, analytics.config));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"plugins/test-and-target\", ['core/omniture', 'core/config'], function(omniture, config) {\n        return analytics.plugins.testAndTarget;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nif (typeof analytics.plugins==='undefined') analytics.plugins={};\n\nanalytics.plugins.channelManager = (function(omniture, config){\n\n    var persistant, session,\n        persistantCookies = getCookie('s_pers'),\n        sessionCookies = getCookie('s_sess'),\n        setVariable = omniture.setVariable,\n        getVariable = omniture.getVariable;\n\n    function removePlus(string){\n        return unescape(string.replace(/\\+/g,'%20').toLowerCase());\n    }\n\n\n    function httpsSearch(referrer){\n        return (referrer.indexOf(\"www.google.\") > -1 && document.referrer.indexOf(\"q=&\") > -1) ? \"google\" : \"na\";\n    }\n\n    function getCookie(name) {\n        if (!document.cookie) { return; }\n        var cookieValue=\"\", i,cookie,\n            cookies = document.cookie.split(';');\n        for (i = 0; i < cookies.length; i++) {\n            cookie = cookies[i].trim();\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n        return cookieValue;\n    }\n\n    /*\n     * channelManager v2.2 - Tracking External Traffic\n     */\n    var channelManager=new Function(\"a\",\"b\",\"c\",\"V\",\"\"\n        +\"var s=this,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,\"\n        +\"G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y;g=s.referrer?s.referrer:documen\"\n        +\"t.referrer;g=g.toLowerCase();if(!g){h='1'}i=g.indexOf('?')>-1?g.ind\"\n        +\"exOf('?'):g.length;j=g.substring(0,i);k=s.linkInternalFilters.toLow\"\n        +\"erCase();k=s.split(k,',');l=k.length;for(m=0;m<l;m++){n=j.indexOf(k\"\n        +\"[m])==-1?'':g;if(n)o=n}if(!o&&!h){p=g;q=g.indexOf('//')>-1?g.indexO\"\n        +\"f('//')+2:0;r=g.indexOf('/',q)>-1?g.indexOf('/',q):i;t=g.substring(\"\n        +\"q,r);t=t.toLowerCase();u=t;P='Referrers';v=s.seList+'>'+s._extraSea\"\n        +\"rchEngines;if(V=='1'){j=s.repl(j,'oogle','%');j=s.repl(j,'ahoo','^'\"\n        +\");j=s.repl(j,'as_q','*');}A=s.split(v,'>');B=A.length;for(C=0;C<B;C\"\n        +\"++){D=A[C];D=s.split(D,'|');E=s.split(D[0],',');F=E.length;for(G=0;\"\n        +\"G<F;G++){H=j.indexOf(E[G]);if(H>-1){I=s.split(D[1],',');J=I.length;\"\n        +\"for(K=0;K<J;K++){L=s.getQueryParam(I[K],'',removePlus(g));\"\n        +\"if(L){L=L.toLowerCase();M=L;if(D[2]){u=D[2];N=D[2]}else{N=t}\"\n        +\"if(V=='1'){N=s.repl(N,'#',' - ');N=s.repl(N,'*','as_q');N=s.repl(N,'^'\"\n        +\",'ahoo');N=s.repl(N,'%','oogle');}}}}}}}O=s.getQueryParam(a,b);if(O){u\"\n        +\"=O;if(M){P='Paid Search'}else{P='Paid Non-Search';}}if(!O&&M){u=N;P='N\"\n        +\"atural Search'}f=s._channelDomain;if(f){k=s.split(f,'>');l=k.length;fo\"\n        +\"r(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length;for(\"\n        +\"T=0;T<S;T++){W=j.indexOf(R[T]);if(W>-1)P=Q[0]}}}d=s._channelParameter;\"\n        +\"if(d){k=s.split(d,'>');l=k.length;for(m=0;m<l;m++){Q=s.split(k[m],'|')\"\n        +\";R=s.split(Q[1],',');S=R.length;for(T=0;T<S;T++){U=s.getQueryParam(R[T]\"\n        +\");if(U)P=Q[0]}}}e=s._channelPattern;if(e){k=s.split(e,'>');l=k.length;\"\n        +\"for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length\"\n        +\";for(T=0;T<S;T++){X=O.indexOf(R[T]);if(X==0)P=Q[0]}}}if(h=='1'&&!O)\"\n        +\"{u=P=t=p='Direct Load'}T=M+u+t;U=c?'c':'c_m';if(c!='0'){T=s.getValO\"\n        +\"nce(T,U,0);}if(T)M=M?M:'n/a';s._referrer=T&&p?p:'';s._referringDoma\"\n        +\"in=T&&t?t:'';s._partner=T&&N?N:'';s._campaignID=T&&O?O:'';s._campai\"\n        +\"gn=T&&u?u:'';s._keywords=T&&M?M:'';s._channel=T&&P?P:'';\");\n\n    var seList=\"altavista.co,altavista.de|q,r|AltaVista>.aol.,suche.aolsvc\"\n        +\".de|q,query|AOL>ask.jp,ask.co|q,ask|Ask>www.baidu.com|wd|Baidu>daum\"\n        +\".net,search.daum.net|q|Daum>google.,googlesyndication.com|q,as_q|Go\"\n        +\"ogle>icqit.com|q|icq>bing.com|q|Microsoft Bing>myway.com|searchfor|\"\n        +\"MyWay.com>naver.com,search.naver.com|query|Naver>netscape.com|query\"\n        +\",search|Netscape Search>reference.com|q|Reference.com>seznam|w|Sezn\"\n        +\"am.cz>abcsok.no|q|Startsiden>tiscali.it,www.tiscali.co.uk|key,query\"\n        +\"|Tiscali>virgilio.it|qs|Virgilio>yahoo.com,yahoo.co.jp|p,va|Yahoo!>\"\n        +\"yandex|text|Yandex.ru>search.cnn.com|query|CNN Web Search>search.ea\"\n        +\"rthlink.net|q|Earthlink Search>search.comcast.net|q|Comcast Search>\"\n        +\"search.rr.com|qs|RoadRunner Search>optimum.net|q|Optimum Search\";\n\n\n    function readCookies(){\n        var cookie, x;\n        persistant = {\n            cookies : unescape(persistantCookies).split(\";\"),\n            cmp_cookie: getCookie(\"cmp_cookie\")\n        };\n        session = {\n            cookies: unescape(sessionCookies).split(\";\"),\n            cmp_cookie_session : getCookie(\"cmp_cookie_session\"),\n            cmp_cookie : getCookie(\"cmp_cookie\"),\n            irct : getCookie(\"irct\")\n        };\n\n        for(x=0;x<session.cookies.length;x++){\n            cookie = session.cookies[x].split(\"=\");\n            session[cookie[0].trim()] = (cookie[1]) ? cookie[1].trim() : \"\";\n        }\n        for(x=0;x<persistant.cookies.length;x++){\n            cookie = persistant.cookies[x].split(\"=\");\n            persistant[cookie[0].trim()] = (cookie[1]) ? cookie[1].trim() : \"\";\n        }\n    }\n\n    function setVariables(){\n        setVariable('s.channel', getVariable('siteName')); //todo: andrew, this meant to be the same?\n        if(s._campaignID){\n            setVariable('campaignID',s._campaignID.toLowerCase());\n        }\n    }\n\n    function setInsightTracking(){\n        var insight_tracking = s.getQueryParam('irct').toLowerCase();\n        if (insight_tracking && insight_tracking !== session.irct) {\n            setVariable('insightCampaign', s.getValOnce(insight_tracking, 'irct', 0));\n        }\n    }\n\n    //todo: andrew, why do we care so much about cheetah mail? delet?\n    function setCheetah(){\n        var campaignID;\n        if (s.getQueryParam('om_mid').length > 0) { //        todo: i think remove all below\n            campaignID = \"cht-\" + s.getQueryParam('om_mid')\n            if(getVariable('campaignID')){ //todo: andrew, why do we keep using underscores?\n                campaignID  =+ \":links__\" + getVariable('campaignID').replace(\"emc-\",\"\");\n            }\n            setVariable('campaignID',campaignID);\n        }\n    }\n\n    function setPartnerAndKeyWords(){\n        var keyword = (s._keywords) ? s._keywords.toLowerCase() : \"\",\n            partner = (s._partner) ? s._partner.toLowerCase() : \"\",\n            chan = (s._channel) ? s._channel.toLowerCase() : \"\",\n            ref = (s._referringDomain) ? s._referringDomain.toLowerCase() : \"\",\n            campaignID = (s._campaignID) ? s._campaignID.toLowerCase() : \"\";\n\n//todo: test the hell out of all these if statements before refactor!!!!\n//todo: remove campaign specific stuff knc?\n        if (campaignID && campaignID.indexOf('knc-') === 0) {\n            if(campaignID == \"knc-\"){\n                setVariable('campaignID',getVariable('campaignID') + partner + \":\" + keyword);\n            }\n            setVariable('externalSearchProvider',partner);\n            setVariable('externalSearchTerm',keyword);\n        }\n        if(chan == \"natural search\"){\n            setVariable('campaignID',\"okc-natural search\");\n            setVariable('externalSearchProvider',partner);\n            setVariable('externalSearchTerm',keyword);\n        }\n        if (campaignID===\"\" && chan != \"natural search\") {\n            if (chan==\"direct load\"){\n                setVariable('campaignID',\"direct load\");\n            }\n            else if(chan != \"direct load\" && ref){\n                if(httpsSearch(ref) == \"google\"){\n                    setVariable('campaignID',\"okc-secured natural search\");\n                    setVariable('externalSearchProvider',\"google\");\n                    setVariable('externalSearchTerm',\"secured search term\");\n                } else {\n                    setVariable('campaignID',\"oth-\" + ref);\n                }\n            }\n        }\n    }\n\n//    todo: andrew, ilc still used? delete?\n    function setupIlcCampaign(){\n        var campaignID = omniture.getVariable('campaignID') || '';\n        if(!s._channel && !s._campaignID){ return; }\n\n        if(campaignID.indexOf('ilc-') !== 0){\n            if((campaignID==\"direct load\" || campaignID.indexOf(\"oth-\") === 0 ) &&\n                session.cmp_cookie_session != \"undefined/undefined\" &&\n                session.cmp_cookie_session !== \"\"){\n                omniture.setVariable('campaignID','');\n            }\n            if(!session.cmp_cookie_session || session.cmp_cookie_session == \"undefined/undefined\"){\n                session.cmp_cookie_session = omniture.getVariable('campaignCookie');\n                omniture.setVariable('campaignCookie',s.getValOnce(session.cmp_cookie_session, 'cmp_cookie_session', 0));\n            }\n            if(!persistant.cmp_cookie || persistant.cmp_cookie == \"undefined/undefined\"){\n                persistant.cmp_cookie = omniture.getVariable('campaignCookie');\n                omniture.setVariable('campaignCookie',s.getValOnce(persistant.cmp_cookie, 'cmp_cookie', 30));\n            }\n        }\n    }\n\n\n\n    function load(){\n        readCookies();\n\n        s.seList = seList;\n        s.channelManager = channelManager;\n        s.linkInternalFilters = config.linkInternalFilters;\n        s.channelManager('attr,dcmp','','s_campaign','0');\n\n        setVariables();\n        setInsightTracking();\n        setCheetah();\n        setPartnerAndKeyWords();\n        setupIlcCampaign();\n    }\n\n    return {\n        load: load\n    };\n\n}(analytics.omniture, analytics.config));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"plugins/channel-manager\", ['core/omniture', 'core/config'], function(omniture, config) {\n        return analytics.plugins.channelManager;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nif (typeof analytics.plugins==='undefined') analytics.plugins={};\n\nanalytics.plugins.newOrRepeatVisits = (function(omniture, config){\n\n    var getVisitNum = new Function(\"var s=this,e=new Date(),cval,cvisit,ct=e.getTime(),c='s_vnum',c2='s_invisit';e.setTime(ct+30*24*60*60*1000);cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else return 'unknown visit number';}else{if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else{s.c_w(c,ct+30*24*60*60*1000+'&vn=1',e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return 1;}}\");\n\n    /*\n    * Plugin: getNewRepeat 1.2 - Returns whether user is new or repeat\n    */\n    var getNewRepeat = function(d,cn){\n        var s=this,e=new Date(),cval,sval,ct=e.getTime();\n        d=d?d:30;cn=cn?cn:'s_nr';\n        e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);\n        if(cval.length==0){\n            s.c_w(cn,ct+'-New',e);\n            return'New';\n        }\n        sval=cval.split('-');\n        if(ct-sval[0]<30*60*1000&&sval[1]=='New'){\n            s.c_w(cn,ct+'-New',e);\n            return 'New';\n        }else{\n            s.c_w(cn,ct+'-Repeat',e);\n            return'Repeat';\n        }\n    };\n\n    function setVars(){\n        var newRepeat = omniture.setVariable('newRepeat',s.getNewRepeat(30, \"s_getNewRepeat\"));\n        if(newRepeat == \"Repeat\"){\n            omniture.setEvent('repeatVisit');\n        }\n        omniture.setVariable('visitNum',s.getVisitNum());\n    }\n\n    function load(){\n\n        s.getNewRepeat = getNewRepeat;\n        s.getVisitNum = getVisitNum;\n\n        setVars();\n    }\n\n    return {\n        load: load\n    };\n\n}(analytics.omniture, analytics.config));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"plugins/new-or-repeat-visits\", ['core/omniture', 'core/config'], function(omniture, config) {\n        return analytics.plugins.newOrRepeatVisits;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nif (typeof analytics.plugins==='undefined') analytics.plugins={};\n\nanalytics.plugins.userHistory = (function(omniture, config){\n\n    var loggedIn = 'Logged In';\n    var notLoggedIn = 'not logged-in';\n    var cookies = loadCookies();\n\n    var getAndPersistValue=new Function(\"v\",\"c\",\"e\",\"\"+\n        \"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(\"+\n        \"v)s.c_w(c,v,e?a:0);return s.c_r(c);\");\n\n    var clickThruQuality=function(scp,ct_ev,cp_ev,cpc){\n        var s = this;\n        if (s.p_fo(ct_ev) !== 1) { return ; }\n        cpc = cpc || 's_cpc';\n        if (scp) {\n            s.c_w(cpc, 1, 0);\n            return ct_ev;\n        } else if (s.c_r(cpc) >= 1) {\n            s.c_w(cpc, 0, 0);\n            return cp_ev;\n        }\n    };\n\n\n    function loadCookies() {\n        var i, cookie, cookies;\n        cookies = document.cookie.split(';');\n        var o = {};\n        for (i=0 ; i<cookies.length ; i++) {\n            cookie = cookies[i].split('=');\n            o[cookie[0].trim()] = unescape(cookie[1]);\n        }\n        return o;\n    }\n\n\n//    todo: andrew we deleted login events he he\n    function setLoginVars( ) {\n        if (cookies.skySSO) {\n            omniture.setVariable('loginStatus', loggedIn);\n            if (cookies.skySSOLast != cookies.skySSO) {\n                s.c_w('skySSOLast' , cookies.skySSO);\n            }\n        } else {\n            omniture.setVariable('loginStatus',notLoggedIn);\n        }\n        if (cookies.just){ omniture.setVariable('samId',cookies.just); }\n        if (cookies.apd) { omniture.setVariable('ageGender',cookies.apd + '|' + cookies.gpd); }\n        if (cookies.custype){ omniture.setVariable('customerType', cookies.custype); }\n        if (cookies.ust) { omniture.setVariable('optIn', cookies.ust + '|' + cookies.sid_tsaoptin); }\n    }\n\n    function setVisitVars(){\n        s.getAndPersistValue(document.location.toString().toLowerCase(),'omni_prev_URL',0);\n        var c_pastEv = s.clickThruQuality(\n            omniture.getVariable('campaign'),\n            config.trackedEvents['firstPageVisited'],\n            config.trackedEvents['secondPageVisited'],\n            's_ctq'\n        );\n        if(c_pastEv) { omniture.setEvent(c_pastEv); }\n\n        if (document.referrer){\n            omniture.setVariable('refDomain',document.referrer.split('/')[2]);\n        }\n    }\n\n    function load(){\n\n        s.getAndPersistValue = getAndPersistValue;\n        s.clickThruQuality = clickThruQuality;\n\n        setLoginVars();\n        setVisitVars();\n    }\n\n    return {\n        load: load\n    };\n\n}(analytics.omniture, analytics.config));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"plugins/user-history\", ['core/omniture', 'core/config'], function(omniture, config) {\n        return analytics.plugins.userHistory;\n    });\n}\n\n\n;",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.pageView = (function(config, omniture,\n                             mediaModule,\n                             testAndTarget,\n                             channelManager,\n                             newOrRepeatVisits,\n                             userHistory\n    ){\n\n    var pluginsLoaded = false,\n        getVariable = omniture.getVariable,\n        setVariable = omniture.setVariable,\n        setEvent = omniture.setEvent;\n\n    function setPageDescriptions(options){\n        setVariable('url',options.url);//todo: andrew, delete? i dont see s.referer beingset\n        setVariable('contentType',options.contentType);//todo: andrew, delete? i dont see s.referer beingset\n        setVariable('contentId',options.contentId);//todo: andrew, delete? i dont see s.referer beingset\n        setVariable('pageURL','D=Referer');//todo: andrew, delete? i dont see s.referer beingset\n        setVariable('siteName','sky/portal/' + options.site);\n        setVariable('section','sky/portal/' + options.site);//todo: andrew, delete? i dont see s.referer beingset\n        setVariable('pageName', getVariable('siteName') + \"/\" + options.page);\n        setVariable('section0', getVariable('siteName') + '/' +  options.section.split('/').slice(0,1).join('/'));\n        setVariable('section1', getVariable('siteName') + '/' +  options.section.split('/').slice(0,2).join('/'));\n        setVariable('section2', getVariable('siteName') + '/' +  options.section.split('/').slice(0,3).join('/'));\n        setVariable('pageDescription', options.site + \"/\" + options.page);\n        setVariable('headline', options.headline);\n\n        if (options.headline) {\n            setVariable('fullPageDescription', (options.site + '/' + options.section+ '/' + options.headline).substring(0,255));\n        } else{\n            setVariable('fullPageDescription', getVariable('pageName').substring(0,255));\n        }\n    }\n\n    function setSearchVars(options){\n        if (options.searchResults !== undefined ) {\n            setVariable('searchResults', options.searchResults);\n            setVariable('searchType', options.searchType); //todo: andrew, added these - neccersary or added as custom var on page js\n            setVariable('searchTerms', options.searchTerms); //todo: andrew, added these - neccersary or added as custom var on page js\n            omniture.setEvent('searchResults');\n            if (options.searchResults === 0) {\n                omniture.setEvent('zeroResults');\n            }\n        }\n    }\n\n    function setErrorEvents(options){\n        if (options.errors) {\n            setVariable('errors', options.errors);\n            omniture.setEvent('error');\n        }\n    }\n\n    function track(customConfig) {\n            var name;\n            config.options = customConfig;\n\n            setEvent('pageLoad');\n\n            setPageDescriptions(customConfig);\n            setSearchVars(customConfig);\n            setErrorEvents(customConfig);\n\n            for (name in customConfig.loadVariables){\n                setVariable(name, customConfig.loadVariables[name]);\n            }\n            for (name in customConfig.loadEvents){\n                setEvent(customConfig.loadEvents[name]);\n            }\n\n            for (name in config) {\n                setVariable(name, customConfig[name] || config[name]);\n            }\n\n            loadPlugins();\n\n            if(config.track){ //todo: document this\n                omniture.track();\n            }\n            omniture.reset();\n        }\n\n    function loadPlugins() {\n            if(pluginsLoaded){ return; }\n\n            /*extra*/\n            s.c_rr = s.c_r;\n            s.c_r = new Function(\"k\", \"\" + \"var s=this,d=new Date,v=s.c_rr(k),c=s.c_rr('s_pers'),i,m,e;if(v)ret\" + \"urn v;k=s.ape(k);i=c.indexOf(' '+k+'=');c=i<0?s.c_rr('s_sess'):c;i=\" + \"c.indexOf(' '+k+'=');m=i<0?i:c.indexOf('|',i);e=i<0?i:c.indexOf(';'\" + \",i);m=m>0?m:e;v=i<0?'':s.epa(c.substring(i+2+k.length,m<0?c.length:\" + \"m));if(m>0&&m!=e)if(parseInt(c.substring(m+1,e<0?c.length:e))<d.get\" + \"Time()){d.setTime(d.getTime()-60000);s.c_w(s.epa(k),'',d);v='';}ret\" + \"urn v;\");\n            s.c_wr = s.c_w;\n            s.c_w = new Function(\"k\", \"v\", \"e\", \"\" + \"var s=this,d=new Date,ht=0,pn='s_pers',sn='s_sess',pc=0,sc=0,pv,sv,\" + \"c,i,t;d.setTime(d.getTime()-60000);if(s.c_rr(k)) s.c_wr(k,'',d);k=s\" + \".ape(k);pv=s.c_rr(pn);i=pv.indexOf(' '+k+'=');if(i>-1){pv=pv.substr\" + \"ing(0,i)+pv.substring(pv.indexOf(';',i)+1);pc=1;}sv=s.c_rr(sn);i=sv\" + \".indexOf(' '+k+'=');if(i>-1){sv=sv.substring(0,i)+sv.substring(sv.i\" + \"ndexOf(';',i)+1);sc=1;}d=new Date;if(e){if(e.getTime()>d.getTime())\" + \"{pv+=' '+k+'='+s.ape(v)+'|'+e.getTime()+';';pc=1;}}else{sv+=' '+k+'\" + \"='+s.ape(v)+';';sc=1;}if(sc) s.c_wr(sn,sv,0);if(pc){t=pv;while(t&&t\" + \".indexOf(';')!=-1){var t1=parseInt(t.substring(t.indexOf('|')+1,t.i\" + \"ndexOf(';')));t=t.substring(t.indexOf(';')+1);ht=ht<t1?t1:ht;}d.set\" + \"Time(ht);s.c_wr(pn,pv,d);}return v==s.c_r(s.epa(k));\");\n\n            s.getValOnce = new Function(\"v\",\"c\",\"e\",\"\" + \"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime(\"+\")+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v\");\n\n            s.p_fo=new Function(\"n\",\"\" +\"var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]=\"+\"new Object;return 1;}else {return 0;}\");\n            s.apl = new Function(\"L\", \"v\", \"d\", \"u\", \"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L\");\n\n\n\n\n            /*\n             * Plugin: getQueryParam 2.3\n             */\n            s.getQueryParam=new Function(\"p\",\"d\",\"u\",\"\"+\n                \"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati\"+\n                \"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p\"+\n                \".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-\"+\n                \"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i=\"+\n                \"=p.length?i:i+1)}return v\");\n\n\n\n            s.p_gpv=new Function(\"k\",\"u\",\"\"+\n                \"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=decodeURIComponent\"+\n                \"(u.substring(i+1));v=s.pt(q,'&','p_gvf',k)}return v\");\n\n\n\n\n            s.p_gvf=new Function(\"t\",\"k\",\"\"+\n                \"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T\"+\n                \"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.\"+\n                \"epa(v)}return ''\");\n\n\n\n            /* DynamicObjectIDs config */\n            s.getObjectID = function (o) {\n                var ID=o.href;\n                return ID;\n            }\n\n\n// DEALS WITH DUPLICATE NAMES ON A SINGLE PAGE\n            /*\n             * DynamicObjectIDs v1.4: Setup Dynamic Object IDs based on URL\n             */\n            s.setupDynamicObjectIDs=new Function(\"\"+\n                \"var s=this;if(!s.doi){s.doi=1;if(s.apv>3&&(!s.isie||!s.ismac||s.apv\"+\n                \">=5)){if(s.wd.attachEvent)s.wd.attachEvent('onload',s.setOIDs);else\"+\n                \" if(s.wd.addEventListener)s.wd.addEventListener('load',s.setOIDs,fa\"+\n                \"lse);else{s.doiol=s.wd.onload;s.wd.onload=s.setOIDs}}s.wd.s_semapho\"+\n                \"re=1}\");\n\n\n\n            s.setOIDs=new Function(\"e\",\"\"+\n                \"var s=s_c_il[\"+s._in+\"],b=s.eh(s.wd,'onload'),o='onclick',x,l,u,c,i\"+\n                \",a=new Array;if(s.doiol){if(b)s[b]=s.wd[b];s.doiol(e)}if(s.d.links)\"+\n                \"{for(i=0;i<s.d.links.length;i++){l=s.d.links[i];c=l[o]?''+l[o]:'';b\"+\n                \"=s.eh(l,o);z=l[b]?''+l[b]:'';u=s.getObjectID(l);if(u&&c.indexOf('s_\"+\n                \"objectID')<0&&z.indexOf('s_objectID')<0){u=s.repl(u,'\\\"','');u=s.re\"+\n                \"pl(u,'\\\\n','').substring(0,97);l.s_oc=l[o];a[u]=a[u]?a[u]+1:1;x='';\"+\n                \"if(c.indexOf('.t(')>=0||c.indexOf('.tl(')>=0||c.indexOf('s_gs(')>=0\"+\n                \")x='var x=\\\".tl(\\\";';x+='s_objectID=\\\"'+u+'_'+a[u]+'\\\";return this.\"+\n                \"s_oc?this.s_oc(e):true';if(s.isns&&s.apv>=5)l.setAttribute(o,x);l[o\"+\n                \"]=new Function('e',x)}}}s.wd.s_semaphore=0;return true\");\n\n//*/\n\n\n\n\n\n\n            /*\n             * Plugin Utility: Replace v1.0\n             */\n            s.repl=new Function(\"x\",\"o\",\"n\",\"\"\n                +\"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.\"\n                +\"substring(i+o.length);i=x.indexOf(o,i+l)}return x\");\n\n\n            /*\n             * Utility Function: split v1.5 (JS 1.0 compatible)\n             */\n            s.split=new Function(\"l\",\"d\",\"\"\n                +\"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x\"\n                +\"++]=l.substring(0,i);l=l.substring(i+d.length);}return a\");\n\n\n\n//            todo: double check ordering with .bk file\n            channelManager.load(config); //must go first - user history needs it to set a campaign evar\n            userHistory.load(config);\n            testAndTarget.load();\n            mediaModule.load(config, omniture);\n            newOrRepeatVisits.load(config);\n\n            if (config.setObjectIDs) {\n                s.setupDynamicObjectIDs();\n            }\n\n            pluginsLoaded = true;\n        }\n\n    return {\n        track: track\n    };\n\n}(analytics.config,\n    analytics.omniture,\n    analytics.plugins.mediaModule,\n    analytics.plugins.testAndTarget,\n    analytics.plugins.channelManager,\n    analytics.plugins.newOrRepeatVisits,\n    analytics.plugins.userHistory\n));\n\n//just for require\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"core/page-view\", [\n        'core/config',\n        'core/omniture',\n        'plugins/media-module',\n        'plugins/test-and-target',\n        'plugins/channel-manager',\n        'plugins/new-or-repeat-visits',\n        'plugins/user-history'\n    ], function(config, omniture, mediaModule, testAndTarget, channelManager, newOrRepeatVisits, userHistory) {\n        return analytics.pageView;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics.linkClicks = (function(omniture, logger){\n\n    function safeString(str){\n        if (typeof str === 'undefined') { return ''; }\n        return str.trim().replace(/ /g,'-').replace(/[&,\\+,:|]/g,'').toLowerCase();\n    }\n\n//    not using jQuery.parents([data-tracking-whatever]) as is slow in ie and ff\n    function checkParentForAttribute(el, attr){\n        if (!el || !el.getAttribute) { return ''; }\n        if (!!el.getAttribute(attr)){\n            return el.getAttribute(attr);\n        }\n        return checkParentForAttribute(el.parentNode, attr);\n    }\n\n    function getText($el){\n        return $el.attr('data-tracking-label') || $el.attr('data-tracking-value') || $el.attr('alt') || $el.val() || $el.attr('value') || $el.attr('name') || $el.text();\n    }\n\n    function bindEvents(selector, evnt) {\n        var clickSelector = selector || 'input[type=submit]:not([data-tracking=false]), button:not([data-tracking=false]), a:not([data-tracking=false]), [data-tracking]:not([data-tracking=false])';\n        evnt = evnt || 'click toolkit.track';\n        $(document).on(evnt, clickSelector, function(e) {\n            track(e);\n        });\n    }\n\n    function track(e){\n        logger.log('start','tracking event', e);\n        var refDomain = document.referrer,\n            url = window.location.href.split('?')[0],\n            $el = $(e.currentTarget),\n            context;\n\n        addEvent('linkClick');\n        addVariable('events');\n        addVariable('linkDetails', getProperties($el));\n        addVariable('refDomain', refDomain);\n        addVariable('url', url);\n        addCustomClickVariable($el);\n        addCustomClickEvents($el);\n\n//todo: merge this concept in with custom vars and events\n        if ($el.attr('data-tracking-search')){\n            context = $el.attr('data-tracking-context') || getText($('#' + $el.attr('data-tracking-context-id')));\n            addVariable('searchType', $el.attr('data-tracking-search'));\n            addVariable('searchTerms', context);\n            addEvent('search');\n        }\n\n        logger.log('end');\n        omniture.trackLink(this);\n    }\n\n\n    function getProperties($el){\n        var textClicked = getText($el),\n            context = $el.attr('data-tracking-context') || getText($('#' + $el.attr('data-tracking-context-id'))),\n            theme =  $el.attr('data-tracking-theme') || checkParentForAttribute($el[0],'data-tracking-theme'),\n            other = checkParentForAttribute($el[0],'data-tracking-other'),\n            pod =  checkParentForAttribute($el[0],'data-tracking-pod'),\n            module = checkParentForAttribute($el[0],'data-tracking-module');\n\n        var linkDetails = [\n            safeString(module),\n            safeString(pod),\n            safeString(other),\n            safeString(context),\n            safeString(theme),\n            safeString(textClicked),\n            safeString(omniture.getVariable('pageName').replace(/sky\\/portal\\//g, ''))\n        ];\n        logger.logLinkDetails(linkDetails);\n\n        return linkDetails.join('|');\n    }\n\n\n    function addCustomClickEvents($el){\n        var customEvent = $el.attr('data-tracking-event');\n        if (!customEvent) return;\n        addEvent(customEvent);\n    }\n\n    function addCustomClickVariable($el){\n        var customVariable = $el.attr('data-tracking-variable');\n        if (!customVariable) return;\n        addVariable(customVariable,getText($el));\n    }\n\n    function addVariable(variable, val){\n        omniture.setVariable(variable, val);\n        omniture.setLinkTrackVariable(variable);\n        logger.log('prop',variable, val);\n    }\n\n    function addEvent(event){\n        omniture.setEvent(event);\n        omniture.setLinkTrackEvent(event);\n        logger.log('events', event, '');\n    }\n\n    bindEvents();\n\n    return {\n        debug: logger.debug,\n        verify: logger.debug, //for backwards compatibility. added v0.6.0 8th Oct 2013. PM. remove once everyone know not to use it!\n        bind: bindEvents,\n        track: track\n    };\n\n}(analytics.omniture, analytics.logger));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"core/link-clicks\", [\"core/page-view\", \"utils/logger\"], function() {\n        return analytics.linkClicks;\n    });\n};",
    "\nif (typeof analytics==='undefined') analytics={};\nanalytics = (function(polyfill, logger, config, omniture, linkClicks, pageView){\n//todo: stop referencing s in any other file\n//todo: stop referencing s.eVarxx and use alias or getVariable instead\n//todo: only use logger from omniture - get the setails from s or el being passed\n\n//todo: write page to test require\n//todo: test turn verify on in config\n//todo: test val vs attr value and the rest of getText |\n//todo: test for live binding\n\n    var mandatory = ['site', 'section', 'account', 'page'];\n\n    function setup(customConfig){\n        omniture.init(customConfig.account);\n\n        $.extend(config, customConfig);\n        if (config.debug){\n            logger.debug(true);\n        }\n//        todo: console warning if no site or section\n        checkMandatoryConfig();\n        setupCustomEventsAndVariables('Events');\n        setupCustomEventsAndVariables('Variables');\n        return config;\n    }\n\n    function reset(custom){\n        config.loadVariables={};\n        config.loadEvents=[];\n        if (custom){\n            setup(custom);\n        }\n        return config;\n    }\n\n    function checkMandatoryConfig(){\n        for (var name in mandatory){\n            if (!config[mandatory[name]]){\n                console.error('Mandatory config is missing: ', mandatory[name]);\n            }\n        }\n    }\n\n    function setupCustomEventsAndVariables(type){\n        var arr = config['custom' + type],\n            i = 0,\n            len = arr.length,\n            item;\n        for(i;i<len;i++){\n            item = normaliseItem(arr[i]);\n            if (type=='Variables') {\n                setupCustomVariable(item);\n            } else if (type=='Events') {\n                setupCustomEvents(item);\n            }\n        }\n    }\n\n    function addToVariableMap(varName, propValue, eVarValue){\n        var arrValues = [],\n            prop;\n        if (propValue){\n            prop = 'prop' + propValue;\n            arrValues.push(prop);\n        }\n        if (eVarValue){\n            prop = 'eVar' + eVarValue;\n            arrValues.push(prop);\n        }\n        config.trackedData[varName] = arrValues;\n    }\n\n    function addToEventMap(eventName, eventID){\n        config.trackedEvents[eventName] = 'event' + eventID;\n    }\n\n    function setupCustomVariable(item) {\n        addToVariableMap(item.name, item.prop, item.eVar);\n        if (item.onPageLoad) {\n            config.loadVariables[item.name] = item.value;\n        }\n    }\n\n    function setupCustomEvents(item) {\n        addToEventMap(item.name, item.event);\n        if (item.onPageLoad) {\n            config.loadEvents.push(item.name);\n        }\n    }\n\n    function normaliseItem(item){\n        var properties, name;\n        for (name in item) {\n            if(item.hasOwnProperty(name)) {\n                properties = item[name];\n            }\n        }\n        return {\n            value: properties.value,\n            onPageLoad: properties.onPageLoad,\n            event: properties.event,\n            eVar: properties.eVar,\n            prop: properties.prop,\n            name: name\n        };\n    }\n\n    return {\n        linkClicks : linkClicks,\n        pageView: function(customConfig){\n            var page = reset(customConfig);\n            pageView.track( page );\n        },\n        setup: setup\n    };\n\n\n}(  analytics.polyfill,\n    analytics.logger,\n    analytics.config,\n    analytics.omniture,\n    analytics.linkClicks,\n    analytics.pageView\n));\n\n//just for require\nif (typeof window.define === \"function\" && window.define.amd) {\n    define(\"analytics\", [\n        'utils/polyfill',\n        'utils/logger',\n        'core/config',\n        'core/omniture',\n        'core/link-clicks',\n        'core/page-view'\n    ], function(polyfill, logger, config, omniture, linkClicks, pageView) {\n        return analytics;\n    });\n};"
  ]
}